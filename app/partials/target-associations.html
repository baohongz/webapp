<!-- search app / results -->

<div class="partial-page">
    <cttv-page-progress-spinner></cttv-page-progress-spinner>

    <div ng-show="search.total==0">
        <div class="container">
            <h3 view-title>No diseases found for {{search.query}}</h3>
            Try searching a different target or disease above
        </div>
    </div>

    <div ng-show="search.total>0">

        <div class="cttv-content-header">
            <div class="container">
                <h3 view-title>{{search.total}} {{search.total===1 ? "disease" : "diseases"}} associated with {{search.label}}</h3>
                <p><!-- Found {{n.diseases}} {{n.diseases===1 ? "disease" : "diseases"}} <span class="cttv-interpage-link">--><a href="/target/{{search.query}}"><span class="fa-stack"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-align-justify fa-stack-1x fa-inverse"></i></span> View {{search.label}} profile</a><!-- </span> -->
                </p>
            </div>
        </div>

        <div class="container">
            <div class="row" ng-show="search.total>0">

                <div class="col-md-3 cttv-facet">
                    <cttv-facets></cttv-facets>
                </div>

                <div class="col-md-9">
                    <!-- TABS views -->

                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs">
                        <li role="presentation" ng-class="(view.t[0]=='bubbles') ? 'active' : ''" ><a href="#" ng-click='setActiveTab("bubbles")'>Bubbles</a></li>
                        <li role="presentation" ng-class="(view.t[0]=='table') ? 'active' : ''"><a href="#" ng-click='setActiveTab("table")'>Table</a></li>
                        <li role="presentation" ng-class="(view.t[0]=='tree') ? 'active' : ''"><a href="#" ng-click='setActiveTab("tree")'>Tree</a></li>
                        <li role="presentation" ng-class="(view.t[0]=='foamtree') ? 'active': ''"><a href="#" ng-click='setActiveTab("foamtree")'>FoamTree</a></li>
                    </ul>

                    <!-- Tab panes -->
                    <div class="tab-content">
                        <!-- <div ng-show="view.t[0]=='bubbles'"> -->
                        <div class="tab-pane ng-scope" ng-class="{active: view.t[0]=='bubbles'}">
                            <resize>
                                <cttv-target-associations-bubbles target="{{search.query}}" facets="filters" active="{{view.t[0]}}"></cttv-target-associations-bubbles>
                            </resize>
                        </div>

                        <!-- <div ng-show="view.t[0]=='table'"> -->
                        <div class="tab-pane ng-scope" ng-class="{active: view.t[0]=='table'}">
                            <cttv-target-associations-table target="search.query" filename="search.filename" loadprogress="loading" facets="filters" active="{{view.t[0]}}"></cttv-target-associations-table>
                        </div>

                        <!-- <div ng-show="view.t[0]=='tree'"> -->
                        <div class="tab-pane ng-scope" ng-class="{active: view.t[0]=='tree'}">
                            <cttv-target-associations-tree target="{{search.query}}" facets="filters" active="{{view.t[0]}}"></cttv-target-associations-tree>
                        </div>

                        <!-- foamtree -->
                        <div class="tab-pane ng-scope" ng-class="{active: view.t[0]=='foamtree'}">
                            <cttv-target-associations-foamtree width="550" height="550" target="{{search.query}}" active={{view.t[0]}}></cttv-target-associations-foamtree>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
<!-- end search results-->
